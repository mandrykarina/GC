# üóëÔ∏è Garbage Collector Visualization

> **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞**

[![C++17](https://img.shields.io/badge/C%2B%2B-17-blue?style=flat-square)](https://en.wikipedia.org/wiki/C%2B%2B17)
[![Python](https://img.shields.io/badge/Python-3.8%2B-green?style=flat-square)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow?style=flat-square)](LICENSE)

## üìã –û –ø—Ä–æ–µ–∫—Ç–µ

–≠—Ç–æ **–∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞:

- **Reference Counting (RC)** ‚Äî –ø–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Mark & Sweep (MS)** ‚Äî –¥–≤—É—Ö—Ñ–∞–∑–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å –º–∞—Ä–∫–∏—Ä–æ–≤–∫–æ–π –∏ –æ—á–∏—Å—Ç–∫–æ–π

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚ú® **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**
- üî¥ –†–µ–∞–ª—å–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã GC –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- üìä –î–∏–∞–≥—Ä–∞–º–º—ã –≥—Ä–∞—Ñ–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
- ‚ö° –ü–æ—à–∞–≥–æ–≤–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏

üéØ **–ù–µ—Å–∫–æ–ª—å–∫–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤**
- `basic` ‚Äî –±–∞–∑–æ–≤–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ
- `cycle_leak` ‚Äî –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫ (—Å–ª–∞–±–æ—Å—Ç—å RC!)

üìà **–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑**
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
- –û–±—ä—ë–º —É—Ç—ë–∫—à–µ–π –ø–∞–º—è—Ç–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π
- –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
GC/
‚îú‚îÄ‚îÄ üìÅ src/                          # C++ —è–¥—Ä–æ (–¥–≤–∞ —Å–±–æ—Ä—â–∏–∫–∞ –º—É—Å–æ—Ä–∞)
‚îÇ   ‚îú‚îÄ‚îÄ reference_counting/          # Reference Counting —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ include/                 # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ src/                     # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ RC
‚îÇ   ‚îî‚îÄ‚îÄ mark_sweep/                  # Mark & Sweep —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ include/                 # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ       ‚îî‚îÄ‚îÄ src/                     # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ MS
‚îÇ
‚îú‚îÄ‚îÄ üìÅ visualization/                # Flask –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ app.py                       # –ì–ª–∞–≤–Ω–∞—è Flask app
‚îÇ   ‚îú‚îÄ‚îÄ config.py                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gc_simulator.py          # –°–∏–º—É–ª—è—Ç–æ—Ä GC
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data_models.py           # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.py                   # REST API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.html               # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îî‚îÄ‚îÄ static/
‚îÇ       ‚îú‚îÄ‚îÄ js/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ main.js              # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ visualization.js     # D3.js –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è üé®
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ statistics.js        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ css/
‚îÇ           ‚îî‚îÄ‚îÄ style.css            # –°—Ç–∏–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ CMakeLists.txt                   # Build –∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ Readme.MD                        # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ .gitignore                       # Git –∏–≥–Ω–æ—Ä —Ñ–∞–π–ª—ã
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **C++ 17** –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä (MSVC, GCC, Clang)
- **CMake 3.10+**
- **Python 3.8+**
- **Flask** –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

#### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone https://github.com/mandrykarina/GC.git
cd GC
```

#### 2Ô∏è‚É£ –°–æ–±–µ—Ä–∏ C++ —á–∞—Å—Ç—å
```bash
mkdir build
cd build
cmake ..
cmake --build . --config Release
cd ..
```

#### 3Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip install -r visualization/requirements.txt
```

#### 4Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
cd visualization
python app.py
```

#### 5Ô∏è‚É£ –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```
http://localhost:5000
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –í—ã–±–µ—Ä–∏ **–ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–º—É–ª—è—Ü–∏–∏**:
   - –†–∞–∑–º–µ—Ä heap (32-512 MB)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ (5-100)
   - –†–∞–∑–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞ (64-1024 bytes)
   - –°—Ü–µ–Ω–∞—Ä–∏–π (basic, cascade_delete, cycle_leak)

2. –ù–∞–∂–º–∏ **"RUN SIMULATION"**

3. –°–º–æ—Ç—Ä–∏ **–∞–Ω–∏–º–∞—Ü–∏—é** –¥–≤—É—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Ä—è–¥–æ–º:
   - –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å: Reference Counting
   - –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å: Mark & Sweep

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
# –ó–∞–ø—É—Å—Ç–∏ —Ç–æ–ª—å–∫–æ —Å–∏–º—É–ª—è—Ç–æ—Ä
./build/bin/Release/gc_unified.exe 2 100 64 32

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: <algorithm> <objects> <size> <heap_mb>
# algorithm: 1=RC, 2=MS
# objects: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤
# size: —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
# heap_mb: —Ä–∞–∑–º–µ—Ä –ø–∞–º—è—Ç–∏
```

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### Reference Counting (RC)
```
‚úÖ –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (—Å—Ä–∞–∑—É –ø—Ä–∏ ref_count=0)
‚úÖ –ù–∏–∑–∫–∏–µ –ø–∞—É–∑—ã
‚ùå –ù–µ –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏
‚ùå Overhead –Ω–∞ –∫–∞–∂–¥—ã–π increment/decrement
```

### Mark & Sweep (MS)
```
‚úÖ –£–¥–∞–ª—è–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏
‚úÖ –ù–µ—Ç overhead –Ω–∞ –∫–∞–∂–¥—ã–π assign
‚ùå Stop-the-world pauses
‚ùå –§—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è –ø–∞–º—è—Ç–∏
```

---

## üé® –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –≤ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

| –¶–≤–µ—Ç | –°—Ç–∞—Ç—É—Å | –ó–Ω–∞—á–µ–Ω–∏–µ |
|------|--------|----------|
| üî¥ –ö—Ä–∞—Å–Ω—ã–π | `leaked` | –û–±—ä–µ–∫—Ç —É—Ç–µ–∫–∞–µ—Ç (RC –Ω–∞ —Ü–∏–∫–ª–µ) |
| üü¢ –ó–µ–ª—ë–Ω—ã–π | `alive` | –û–±—ä–µ–∫—Ç –∂–∏–≤–æ–π, –≤ –ø–∞–º—è—Ç–∏ |
| ‚ö´ –°–µ—Ä—ã–π | `deleted` | –û–±—ä–µ–∫—Ç —É–¥–∞–ª—ë–Ω |
| üîµ –ì–æ–ª—É–±–æ–π | `root` | –ö–æ—Ä–Ω–µ–≤–æ–π –æ–±—ä–µ–∫—Ç |

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Å–∏–º—É–ª—è—Ü–∏–∏ —Ç—ã –≤–∏–¥–∏—à—å:

- **Memory Allocated** ‚Äî –≤—ã–¥–µ–ª–µ–Ω–æ –ø–∞–º—è—Ç–∏
- **Memory Leaked** ‚Äî —É—Ç–µ–∫–ª–æ –ø–∞–º—è—Ç–∏
- **Objects Created** ‚Äî —Å–æ–∑–¥–∞–Ω–æ –æ–±—ä–µ–∫—Ç–æ–≤
- **Objects Deleted** ‚Äî —É–¥–∞–ª–µ–Ω–æ –æ–±—ä–µ–∫—Ç–æ–≤
- **Execution Time** ‚Äî –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–º—Å)

---

## üîç –°—Ü–µ–Ω–∞—Ä–∏–∏ —Å–∏–º—É–ª—è—Ü–∏–∏

### `basic`
–ë–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: –≤—ã–¥–µ–ª–µ–Ω–∏–µ ‚Üí —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ
```
Root ‚Üí Obj1 ‚Üí Obj2 ‚Üí Obj3

```

### `cycle_leak` ‚ö†Ô∏è
**–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏** ‚Äî —Å–∞–º—ã–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π!
```
Root ‚Üí Obj0 ‚Üí Obj1 ‚Üí Obj2 ‚Üí ... ‚Üí ObjN ‚Üí Obj0
            ‚Üë_____________________________‚Üë –¶–ò–ö–õ!

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- RC: üî¥ –í–°–ï –ö–†–ê–°–ù–´–ï (—É—Ç–µ—á–∫–∞!)
- MS: ‚ö´ –í–°–ï –°–ï–†–´–ï (—É–¥–∞–ª—è–µ—Ç —É—Å–ø–µ—à–Ω–æ)
```

---

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

**C++ Core:**
- `HeapObject` ‚Äî –±–∞–∑–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –≤ –ø–∞–º—è—Ç–∏
- `RCHeap` ‚Äî Reference Counting —Å–±–æ—Ä—â–∏–∫
- `MarkSweepGC` ‚Äî Mark & Sweep —Å–±–æ—Ä—â–∏–∫

**Python Backend:**
- `GCSimulator` ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–±–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
- `api.py` ‚Äî REST endpoints
- `data_models.py` ‚Äî JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

**Frontend:**
- D3.js –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–æ–≤
- WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- Bootstrap –¥–ª—è UI

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

–î–æ–±–∞–≤—å JSON —Ñ–∞–π–ª –≤ `reference_counting/scenarios/` –∏ `mark_sweep/scenarios/`:

```json
{
  "name": "my_scenario",
  "objects": [
    { "id": 0, "size": 64, "refs": [1, 2] },
    { "id": 1, "size": 64, "refs": [2] },
    { "id": 2, "size": 64, "refs": [] }
  ]
}
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[–¢–µ–æ—Ä–∏—è GC](docs/gc-theory.md)** ‚Äî –±–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
- **[API Reference](docs/api.md)** ‚Äî REST endpoints
- **[Architecture](docs/architecture.md)** ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

---

## üêõ Known Issues

- [ ] –ë–æ–ª—å—à–∏–µ –≥—Ä–∞—Ñ—ã (>1000 –æ–±—ä–µ–∫—Ç–æ–≤) –º–æ–≥—É—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] Memory leak –Ω–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–∫–∞—Ö –≤ RC (—ç—Ç–æ —Ñ–∏—á–∞, –Ω–µ –±–∞–≥!)
- [ ] Windows only (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ MSVC)




**Made with ‚ù§Ô∏è using C++17, Python, and D3.js**

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: January 2026*
